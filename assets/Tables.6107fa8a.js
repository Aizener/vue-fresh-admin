import{d as $,r as h,L as z,g as N,h as L,i as P,Z as O,$ as A,a0 as I,a1 as J,o as l,c as r,a as i,F as m,q as x,n as b,t as f,w as u,b as D,x as v,y,a2 as W,s as T,D as q,_ as G,a3 as M,B as R,C as Z}from"./index.935b857b.js";/* empty css                 *//* empty css                  *//* empty css                  */import"./el-tooltip.89296c46.js";/* empty css                  */const j={class:"co-table"},K={class:"search"},Q={class:"search-left"},X={class:"search-right"},Y={class:"page"},ee=$({__name:"CoTable",props:{tableData:null,tableHeader:null,tableCondition:null,add:null},emits:["reset","search","update:tableData","update:tableCondition"],setup(n,{emit:c}){const C=JSON.parse(JSON.stringify(n.tableCondition)),F=()=>{c("update:tableCondition",C),c("reset"),p()};let g=h(!1);const p=()=>{g.value=!0,c("update:tableData",[]),c("search",()=>{g.value=!1})},_=()=>{n.tableCondition.page=1,p()},B=t=>{n.tableCondition.page=t,p()},k=t=>{n.tableCondition.size=t,p()};return z(()=>{p()}),(t,o)=>{const s=N,V=L,w=P,a=q,E=O,S=A,H=I,U=J;return l(),r("div",j,[i("div",K,[i("div",Q,[(l(!0),r(m,null,x(n.tableCondition.seoForm,e=>(l(),r(m,null,[e.type==="input"?(l(),b(s,{key:0,modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,placeholder:e.placeholder,clearable:e.clearable===void 0?!0:e.clearable},null,8,["modelValue","onUpdate:modelValue","placeholder","clearable"])):f("",!0),e.type==="select"?(l(),b(w,{key:1,modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,placeholder:e.placeholder,clearable:e.clearable===void 0?!0:e.clearable},{default:u(()=>[(l(!0),r(m,null,x(e.option,d=>(l(),b(V,{label:d.label,value:d.value},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","clearable"])):f("",!0)],64))),256))]),i("div",X,[D(a,{onClick:F},{default:u(()=>[v("\u91CD\u7F6E")]),_:1}),D(a,{type:"primary",onClick:_},{default:u(()=>[v("\u641C\u7D22")]),_:1}),n.add?(l(),b(a,{key:0,type:"success",onAdd:o[0]||(o[0]=e=>t.$emit("add"))},{default:u(()=>[v(y(n.add||"\u6DFB\u52A0"),1)]),_:1})):f("",!0)])]),W((l(),b(S,{data:n.tableData,border:""},{default:u(()=>[(l(!0),r(m,null,x(n.tableHeader,e=>(l(),b(E,{prop:e.prop,label:e.label,minWidth:e.width,fixed:e.fixed},{default:u(d=>[T(t.$slots,"default",{row:d.row,prop:e.prop},()=>[v(y(d.row[e.prop]),1)],!0)]),header:u(()=>[T(t.$slots,"header",{label:e.label,prop:e.prop},()=>[v(y(e.label),1)],!0)]),_:2},1032,["prop","label","minWidth","fixed"]))),256))]),_:3},8,["data"])),[[U,g.value]]),i("div",Y,[D(H,{background:"",layout:"prev, pager, next, sizes","current-page":n.tableCondition.page,total:n.tableCondition.total,onCurrentChange:B,onSizeChange:k},null,8,["current-page","total"])])])}}});const ae=G(ee,[["__scopeId","data-v-0ce27e6f"]]),le={class:"tables"},te={class:"operate"},oe={class:"content"},ne={key:0},ue={key:0},se=i("span",null,"\u64CD\u4F5C1",-1),de=i("span",null,"\u64CD\u4F5C2",-1),re=[se,de],ve=$({__name:"Tables",setup(n){const c=h([]),C=h(["name","title","content"]),F=h([{prop:"name",label:"\u540D\u79F0",width:"200px"},{prop:"title",label:"\u6807\u9898",width:"200px"},{prop:"content",label:"\u5185\u5BB9",width:"200px"},{prop:"operate",label:"\u64CD\u4F5C",width:"200px"}]),g=M(()=>F.value.filter(t=>C.value.includes(t.prop))),p=h(g),_=h({page:1,size:10,total:112,seoForm:{name:{type:"input",value:"",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u641C\u7D22"},title:{type:"select",value:"1",placeholder:"\u8BF7\u9009\u62E9\u6807\u9898\u7C7B\u578B",option:[{label:"\u503C1",value:"1"},{label:"\u503C2",value:"2"}]},name2:{type:"input",value:"",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u641C\u7D22"}}}),B=async()=>new Promise(t=>setTimeout(()=>{const o=(_.value.page-1)*10;for(let s=o;s<o+_.value.size;s++)c.value.push({name:"\u540D\u79F0"+s,title:"\u6807\u9898"+s,content:"\u5185\u5BB9"+s,operate:"\u64CD\u4F5C"+s});t(1)},500)),k=async t=>{await B(),t()};return(t,o)=>{const s=R,V=Z,w=ae;return l(),r("div",le,[i("div",te,[D(V,{modelValue:C.value,"onUpdate:modelValue":o[0]||(o[0]=a=>C.value=a)},{default:u(()=>[(l(!0),r(m,null,x(F.value,(a,E)=>(l(),b(s,{label:a.prop,idx:E},{default:u(()=>[v(y(a.label),1)]),_:2},1032,["label","idx"]))),256))]),_:1},8,["modelValue"])]),i("div",oe,[D(w,{tableData:c.value,"onUpdate:tableData":o[1]||(o[1]=a=>c.value=a),tableHeader:p.value,"onUpdate:tableHeader":o[2]||(o[2]=a=>p.value=a),tableCondition:_.value,"onUpdate:tableCondition":o[3]||(o[3]=a=>_.value=a),onSearch:k},{header:u(a=>[a.prop==="name"?(l(),r("span",ne,y(a.label)+":)",1)):f("",!0)]),default:u(a=>[a.prop==="operate"?(l(),r("span",ue,re)):f("",!0)]),_:1},8,["tableData","tableHeader","tableCondition"])])])}}});export{ve as default};
